module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},39962,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(99587),e=a.i(97895),f=a.i(70106);let g=(0,f.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),h=(0,f.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),i=(0,f.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),j=(0,f.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var k=a.i(78560);function l({transaction:a,isOpen:f,onClose:l,onUpdate:m}){let[n,o]=(0,c.useState)(a?.category||"Other"),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1);if((0,c.useEffect)(()=>{a&&(o(a.category),s(!1))},[a]),!f||!a)return null;a.type;let t=n!==a.category,u=async()=>{if(!t)return void l();if(q(!0),(0,k.isSupabaseConfigured)())try{let{error:b}=await k.supabase.from("transactions").update({category:n}).eq("id",a.id);if(b)throw b}catch(a){console.error("Error updating transaction:",a),q(!1);return}s(!0),m?.({...a,category:n}),setTimeout(()=>{q(!1),l()},500)};return(0,b.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-end justify-center sm:items-center p-0 sm:p-4",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-zinc-950/40 backdrop-blur-sm transition-opacity",onClick:l}),(0,b.jsx)("div",{className:"relative w-full max-w-lg bg-white dark:bg-zinc-950 rounded-t-[40px] sm:rounded-[40px] overflow-hidden shadow-2xl animate-fade-in-up",children:(0,b.jsxs)("div",{className:"p-8 pb-12 space-y-10",children:[(0,b.jsx)("div",{className:"w-12 h-1 bg-zinc-100 dark:bg-zinc-800 rounded-full mx-auto -mt-2 mb-4 sm:hidden"}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,b.jsx)("div",{className:"w-20 h-20 rounded-full bg-zinc-50 dark:bg-zinc-900 flex items-center justify-center border border-zinc-100 dark:border-zinc-800 shadow-sm transition-transform hover:scale-105 duration-300",children:(0,b.jsx)(h,{className:"w-10 h-10 text-zinc-900 dark:text-white"})}),(0,b.jsxs)("div",{className:"text-center space-y-1",children:[(0,b.jsx)("p",{className:"text-[17px] font-medium text-zinc-400",children:"Transaction details"}),(0,b.jsxs)("h2",{className:"text-[40px] font-bold tracking-tight",children:[(0,b.jsx)("span",{className:"text-[28px] align-top mr-1 font-semibold",children:d.CURRENCY_SYMBOL}),Math.abs(a.amount).toLocaleString("en-GH",{minimumFractionDigits:2})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-8 border-t border-zinc-50 dark:border-zinc-900 pt-8",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[14px] font-medium text-zinc-400",children:"Date"}),(0,b.jsx)("p",{className:"text-[16px] font-bold",children:(0,e.formatFriendlyDate)(a.transaction_date)})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[14px] font-medium text-zinc-400",children:"Merchant/Source"}),(0,b.jsx)("p",{className:"text-[16px] font-bold truncate",children:a.description||"Unknown"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-[14px] font-medium text-zinc-400",children:"Category"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(d.CATEGORIES).map(([a,c])=>(0,b.jsxs)("button",{onClick:()=>o(a),className:`flex items-center gap-3 p-4 rounded-[20px] border transition-all active:scale-95 ${n===a?"border-zinc-900 dark:border-white bg-zinc-900 dark:bg-white text-white dark:text-black":"border-zinc-100 dark:border-zinc-900 bg-zinc-50/50 dark:bg-zinc-900/50 hover:bg-zinc-100 dark:hover:bg-zinc-800"}`,children:[(0,b.jsx)("div",{className:`w-2 h-2 rounded-full ${n===a?"bg-white dark:bg-black":""}`,style:n!==a?{backgroundColor:c.color}:{}}),(0,b.jsx)("span",{className:"text-[14px] font-bold truncate",children:c.name}),n===a&&(0,b.jsx)(i,{className:"w-4 h-4 ml-auto"})]},a))})]})]}),(0,b.jsx)("button",{onClick:u,disabled:p,className:`w-full h-16 rounded-full font-bold text-lg flex items-center justify-center gap-3 transition-all active:scale-95 disabled:opacity-50 ${t?"bg-zinc-900 dark:bg-white text-white dark:text-black shadow-lg":"bg-zinc-100 dark:bg-zinc-900 text-zinc-400"}`,children:p?(0,b.jsx)(j,{className:"w-5 h-5 animate-spin"}):r?(0,b.jsx)(i,{className:"w-6 h-6"}):t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g,{className:"w-5 h-5"}),"Save Changes"]}):"Done"})]})})]})}a.s(["default",()=>l],39962)}];

//# sourceMappingURL=_bb3b0f54._.js.map