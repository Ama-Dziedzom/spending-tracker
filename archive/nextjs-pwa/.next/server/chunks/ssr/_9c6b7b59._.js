module.exports=[87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},39962,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(99587),e=a.i(97895),f=a.i(70106);let g=(0,f.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),h=(0,f.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),i=(0,f.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),j=(0,f.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var k=a.i(78560);function l({transaction:a,isOpen:f,onClose:l,onUpdate:m}){let[n,o]=(0,c.useState)(a?.category||"Other"),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1);if((0,c.useEffect)(()=>{a&&(o(a.category),s(!1))},[a]),!f||!a)return null;a.type;let t=n!==a.category,u=async()=>{if(!t)return void l();if(q(!0),(0,k.isSupabaseConfigured)())try{let{error:b}=await k.supabase.from("transactions").update({category:n}).eq("id",a.id);if(b)throw b}catch(a){console.error("Error updating transaction:",a),q(!1);return}s(!0),m?.({...a,category:n}),setTimeout(()=>{q(!1),l()},500)};return(0,b.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-end justify-center sm:items-center p-0 sm:p-4",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-zinc-950/40 backdrop-blur-sm transition-opacity",onClick:l}),(0,b.jsx)("div",{className:"relative w-full max-w-lg bg-white dark:bg-zinc-950 rounded-t-[40px] sm:rounded-[40px] overflow-hidden shadow-2xl animate-fade-in-up",children:(0,b.jsxs)("div",{className:"p-8 pb-12 space-y-10",children:[(0,b.jsx)("div",{className:"w-12 h-1 bg-zinc-100 dark:bg-zinc-800 rounded-full mx-auto -mt-2 mb-4 sm:hidden"}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,b.jsx)("div",{className:"w-20 h-20 rounded-full bg-zinc-50 dark:bg-zinc-900 flex items-center justify-center border border-zinc-100 dark:border-zinc-800 shadow-sm transition-transform hover:scale-105 duration-300",children:(0,b.jsx)(h,{className:"w-10 h-10 text-zinc-900 dark:text-white"})}),(0,b.jsxs)("div",{className:"text-center space-y-1",children:[(0,b.jsx)("p",{className:"text-[17px] font-medium text-zinc-400",children:"Transaction details"}),(0,b.jsxs)("h2",{className:"text-[40px] font-bold tracking-tight",children:[(0,b.jsx)("span",{className:"text-[28px] align-top mr-1 font-semibold",children:d.CURRENCY_SYMBOL}),Math.abs(a.amount).toLocaleString("en-GH",{minimumFractionDigits:2})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-8 border-t border-zinc-50 dark:border-zinc-900 pt-8",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[14px] font-medium text-zinc-400",children:"Date"}),(0,b.jsx)("p",{className:"text-[16px] font-bold",children:(0,e.formatFriendlyDate)(a.transaction_date)})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-[14px] font-medium text-zinc-400",children:"Merchant/Source"}),(0,b.jsx)("p",{className:"text-[16px] font-bold truncate",children:a.description||"Unknown"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-[14px] font-medium text-zinc-400",children:"Category"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(d.CATEGORIES).map(([a,c])=>(0,b.jsxs)("button",{onClick:()=>o(a),className:`flex items-center gap-3 p-4 rounded-[20px] border transition-all active:scale-95 ${n===a?"border-zinc-900 dark:border-white bg-zinc-900 dark:bg-white text-white dark:text-black":"border-zinc-100 dark:border-zinc-900 bg-zinc-50/50 dark:bg-zinc-900/50 hover:bg-zinc-100 dark:hover:bg-zinc-800"}`,children:[(0,b.jsx)("div",{className:`w-2 h-2 rounded-full ${n===a?"bg-white dark:bg-black":""}`,style:n!==a?{backgroundColor:c.color}:{}}),(0,b.jsx)("span",{className:"text-[14px] font-bold truncate",children:c.name}),n===a&&(0,b.jsx)(i,{className:"w-4 h-4 ml-auto"})]},a))})]})]}),(0,b.jsx)("button",{onClick:u,disabled:p,className:`w-full h-16 rounded-full font-bold text-lg flex items-center justify-center gap-3 transition-all active:scale-95 disabled:opacity-50 ${t?"bg-zinc-900 dark:bg-white text-white dark:text-black shadow-lg":"bg-zinc-100 dark:bg-zinc-900 text-zinc-400"}`,children:p?(0,b.jsx)(j,{className:"w-5 h-5 animate-spin"}):r?(0,b.jsx)(i,{className:"w-6 h-6"}):t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g,{className:"w-5 h-5"}),"Save Changes"]}):"Done"})]})})]})}a.s(["default",()=>l],39962)},11277,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(70106);let e=(0,d.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),f=(0,d.default)("headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),g=(0,d.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);function h({title:a,subtitle:c}){return(0,b.jsx)("header",{className:"sticky top-0 z-30 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-xl px-6 py-4 animate-fade-in-up border-b border-zinc-100 dark:border-zinc-900",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("button",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 shadow-sm active:scale-95 transition-all",children:(0,b.jsx)(e,{className:"w-5 h-5"})}),a&&(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("h2",{className:"text-lg font-bold",children:a}),c&&(0,b.jsx)("p",{className:"text-xs text-zinc-400 font-medium",children:c})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 shadow-sm active:scale-95 transition-all",children:(0,b.jsx)(f,{className:"w-5 h-5"})}),(0,b.jsxs)("button",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-white dark:bg-zinc-900 border border-zinc-100 dark:border-zinc-800 shadow-sm active:scale-95 transition-all relative",children:[(0,b.jsx)(g,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"absolute top-2.5 right-2.5 w-2 h-2 bg-red-500 rounded-full border-2 border-white dark:border-zinc-900"})]})]})]})})}var i=a.i(66450),j=a.i(39962),k=a.i(99587),l=a.i(78560),m=a.i(87532);let n=(0,d.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),o=(0,d.default)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]]);function p(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(!0),[g,k]=(0,c.useState)(null),[p,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)("all"),[y,z]=(0,c.useState)("all"),[A,B]=(0,c.useState)("all"),[C,D]=(0,c.useState)("date"),[E,F]=(0,c.useState)("desc"),[G,H]=(0,c.useState)(1);(0,c.useEffect)(()=>{I()},[]);let I=async()=>{if(f(!0),!(0,l.isSupabaseConfigured)()){d(q()),f(!1);return}try{let{data:a,error:b}=await l.supabase.from("transactions").select("*").order("transaction_date",{ascending:!1}).limit(500);if(b)throw b;d(a||[])}catch(a){console.error("Error fetching transactions:",a),d(q())}finally{f(!1)}},J=(0,c.useMemo)(()=>{let b=[...a];if(u){let a=u.toLowerCase();b=b.filter(b=>b.description?.toLowerCase().includes(a)||b.category?.toLowerCase().includes(a)||b.source?.toLowerCase().includes(a))}return"all"!==w&&(b=b.filter(a=>a.type===w)),"all"!==y&&(b=b.filter(a=>a.source===y)),"all"!==A&&(b=b.filter(a=>a.category===A)),b.sort((a,b)=>{if("date"!==C)return"desc"===E?b.amount-a.amount:a.amount-b.amount;{let c=new Date(a.transaction_date).getTime(),d=new Date(b.transaction_date).getTime();return"desc"===E?d-c:c-d}}),b},[a,u,w,y,A,C,E]),K=(0,c.useMemo)(()=>{let a=(G-1)*20;return J.slice(a,a+20)},[J,G]),L=Math.ceil(J.length/20),M=u||"all"!==w||"all"!==y||"all"!==A,N=[...new Set(a.map(a=>a.source))].filter(Boolean),O=[...new Set(a.map(a=>a.category))].filter(Boolean);return(0,b.jsxs)("div",{className:"min-h-screen pb-24 md:pb-8",children:[(0,b.jsx)(h,{title:"Transactions",subtitle:`${J.length} transactions`}),(0,b.jsxs)("main",{className:"px-4 md:px-6 py-6 space-y-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(m.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search transactions...",value:u,onChange:a=>{v(a.target.value),H(1)},className:"w-full pl-12 pr-12 py-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all text-gray-900 dark:text-white placeholder-gray-400"}),u&&(0,b.jsx)("button",{onClick:()=>v(""),className:"absolute right-4 top-1/2 -translate-y-1/2 p-1 rounded-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:(0,b.jsx)(n,{className:"w-4 h-4 text-gray-500"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[(0,b.jsxs)("button",{onClick:()=>t(!s),className:`flex-shrink-0 flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all ${s||M?"bg-emerald-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:[(0,b.jsx)(o,{className:"w-4 h-4"}),"Filters",M&&(0,b.jsx)("span",{className:"ml-1 w-5 h-5 flex items-center justify-center bg-white text-emerald-500 rounded-full text-xs font-bold",children:[u,"all"!==w,"all"!==y,"all"!==A].filter(Boolean).length})]}),["all","debit","credit"].map(a=>(0,b.jsx)("button",{onClick:()=>{x(a),H(1)},className:`flex-shrink-0 px-4 py-2 rounded-xl text-sm font-medium transition-all capitalize ${w===a?"credit"===a?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"debit"===a?"bg-rose-100 dark:bg-rose-900/30 text-rose-700 dark:text-rose-300":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300":"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400"}`,children:"all"===a?"All Types":"credit"===a?"Income":"Expenses"},a)),M&&(0,b.jsx)("button",{onClick:()=>{v(""),x("all"),z("all"),B("all"),D("date"),F("desc"),H(1)},className:"flex-shrink-0 px-4 py-2 rounded-xl text-sm font-medium bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Clear All"})]}),s&&(0,b.jsx)("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 space-y-4 animate-in slide-in-from-top-2",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Source"}),(0,b.jsxs)("select",{value:y,onChange:a=>{z(a.target.value),H(1)},className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 text-gray-900 dark:text-white",children:[(0,b.jsx)("option",{value:"all",children:"All Sources"}),N.map(a=>(0,b.jsx)("option",{value:a,children:a.replace("_"," ")},a))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,b.jsxs)("select",{value:A,onChange:a=>{B(a.target.value),H(1)},className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 text-gray-900 dark:text-white",children:[(0,b.jsx)("option",{value:"all",children:"All Categories"}),O.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort By"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("select",{value:C,onChange:a=>D(a.target.value),className:"flex-1 px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 text-gray-900 dark:text-white",children:[(0,b.jsx)("option",{value:"date",children:"Date"}),(0,b.jsx)("option",{value:"amount",children:"Amount"})]}),(0,b.jsx)("button",{onClick:()=>F("desc"===E?"asc":"desc"),className:"px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:"desc"===E?"↓":"↑"})]})]})]})}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-lg shadow-gray-200/50 dark:shadow-gray-900/50 p-4",children:[(0,b.jsx)(i.default,{transactions:K,onTransactionClick:a=>{k(a),r(!0)},showFilters:!0,loading:e}),L>1&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-6 pt-4 border-t border-gray-100 dark:border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>H(a=>Math.max(1,a-1)),disabled:1===G,className:"px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 disabled:opacity-50 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Previous"}),(0,b.jsxs)("span",{className:"px-4 text-sm text-gray-600 dark:text-gray-400",children:["Page ",G," of ",L]}),(0,b.jsx)("button",{onClick:()=>H(a=>Math.min(L,a+1)),disabled:G===L,className:"px-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 disabled:opacity-50 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Next"})]})]})]}),(0,b.jsx)(j.default,{transaction:g,isOpen:p,onClose:()=>{r(!1),k(null)},onUpdate:a=>{d(b=>b.map(b=>b.id===a.id?a:b))}})]})}function q(){let a=Object.keys(k.CATEGORIES),b=["MTN_MoMo","Vodafone_Cash","Bank"],c={"Food & Dining":["Lunch at restaurant","Grocery shopping","Coffee shop","Dinner delivery"],Transportation:["Uber ride","Fuel purchase","Taxi fare","Bus ticket"],Shopping:["Amazon purchase","Clothing store","Electronics shop","Online shopping"],"Utilities & Bills":["Electricity bill","Water bill","Internet subscription","Phone bill"],Entertainment:["Netflix subscription","Cinema tickets","Gaming purchase","Spotify"],Health:["Pharmacy purchase","Doctor visit","Gym membership","Health supplements"],Income:["Salary deposit","Freelance payment","Refund received","Gift received"],Transfers:["Bank transfer","Mobile money transfer","Sent to friend"],"Cash Withdrawal":["ATM withdrawal","Cash out"]},d=[],e=15e3;for(let f=0;f<100;f++){let g=Math.random()>.7,h=g?"Income":a[Math.floor(Math.random()*(a.length-1))],i=g?Math.floor(5e3*Math.random())+500:Math.floor(500*Math.random())+10;e=g?e+i:e-i;let j=c[h]||["Transaction"];d.push({id:`mock-${f}`,transaction_date:new Date(Date.now()-1e3*f*3600*Math.random()*48).toISOString(),amount:i,type:g?"credit":"debit",source:b[Math.floor(Math.random()*b.length)],description:j[Math.floor(Math.random()*j.length)],balance:e,category:h,raw_sms:"Sample SMS message for this transaction",created_at:new Date().toISOString()})}return d.sort((a,b)=>new Date(b.transaction_date).getTime()-new Date(a.transaction_date).getTime())}a.s(["default",()=>p],11277)}];

//# sourceMappingURL=_9c6b7b59._.js.map