(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},71689,41071,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],71689);let r=(0,t.default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>r],41071)},14887,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(41828),s=e.i(20315),i=e.i(17927),n=e.i(71689),l=e.i(41071),c=e.i(75254);let o=(0,c.default)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);var d=e.i(55436),m=e.i(50965),h=e.i(5125),x=e.i(93886),u=e.i(94351);let p=(0,c.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var f=e.i(22016);function g(){let[e,c]=(0,a.useState)([]),[g,y]=(0,a.useState)(!0);(0,a.useEffect)(()=>{j()},[]);let j=async()=>{if(y(!0),!(0,i.isSupabaseConfigured)()){c(b()),y(!1);return}try{let{data:e,error:t}=await i.supabase.from("transactions").select("*").order("transaction_date",{ascending:!1});if(t)throw t;c(e||[])}catch(e){console.error("Error fetching transactions:",e),c(b())}finally{y(!1)}},N=(0,a.useMemo)(()=>{let t=e.filter(e=>"debit"===e.type),a=t.reduce((e,t)=>e+t.amount,0),r=t.reduce((e,t)=>(e[t.category]=(e[t.category]||0)+t.amount,e),{}),s=Object.entries(r).sort((e,t)=>t[1]-e[1]);return{totalSpending:a,categorySpending:r,sortedCategories:s}},[e]);return(0,t.jsxs)("div",{className:"min-h-screen bg-white dark:bg-black pb-32",children:[(0,t.jsxs)("header",{className:"px-6 py-8 flex items-center justify-between animate-fade-in-up",children:[(0,t.jsx)(f.default,{href:"/dashboard",className:"w-10 h-10 flex items-center justify-center rounded-full border border-zinc-100 dark:border-zinc-800",children:(0,t.jsx)(n.ArrowLeft,{className:"w-5 h-5"})}),(0,t.jsx)("h1",{className:"text-xl font-bold",children:"Spend analysis"}),(0,t.jsx)("button",{className:"w-10 h-10 flex items-center justify-center rounded-full border border-zinc-100 dark:border-zinc-800",children:(0,t.jsx)(l.MoreHorizontal,{className:"w-5 h-5"})})]}),(0,t.jsxs)("main",{className:"px-6 space-y-8 animate-fade-in-up",children:[(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-[17px] font-medium text-zinc-400",children:"Total spending"}),(0,t.jsxs)("h2",{className:"text-[44px] font-bold tracking-tight leading-none",children:[(0,t.jsx)("span",{className:"text-[32px] align-top mr-1",children:s.CURRENCY_SYMBOL}),N.totalSpending.toLocaleString("en-GH",{minimumFractionDigits:2})]})]}),(0,t.jsx)("button",{className:"w-12 h-12 rounded-full border border-zinc-100 dark:border-zinc-800 flex items-center justify-center",children:(0,t.jsx)(o,{className:"w-6 h-6 text-zinc-900 dark:text-white"})})]}),(0,t.jsxs)("div",{className:"h-4 flex gap-1 rounded-full overflow-hidden",children:[(0,t.jsx)("div",{className:"h-full bg-purple-500",style:{width:"40%"}}),(0,t.jsx)("div",{className:"h-full bg-sky-500",style:{width:"25%"}}),(0,t.jsx)("div",{className:"h-full bg-emerald-500",style:{width:"20%"}}),(0,t.jsx)("div",{className:"h-full bg-orange-500",style:{width:"15%"}})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[{name:"Groceries",icon:m.ShoppingBag,color:"text-purple-500",bgColor:"bg-purple-500/10"},{name:"Transport",icon:h.Car,color:"text-sky-500",bgColor:"bg-sky-500/10"},{name:"Entertainment",icon:x.Film,color:"text-emerald-500",bgColor:"bg-emerald-500/10"},{name:"Rent & Utilities",icon:u.Home,color:"text-orange-500",bgColor:"bg-orange-500/10"}].map((e,a)=>(0,t.jsxs)("div",{className:"p-4 rounded-3xl border border-zinc-50 dark:border-zinc-900 bg-zinc-50/50 dark:bg-zinc-900/50 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:`${e.bgColor} ${e.color} p-1.5 rounded-lg`,children:(0,t.jsx)(e.icon,{className:"w-4 h-4"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-500",children:e.name})]}),(0,t.jsxs)("p",{className:"text-lg font-bold",children:[(0,t.jsx)("span",{className:"text-sm mr-0.5",children:s.CURRENCY_SYMBOL}),(N.categorySpending[e.name]||0).toLocaleString("en-GH",{minimumFractionDigits:2})]})]},a))}),(0,t.jsxs)("div",{className:"p-6 rounded-[32px] bg-amber-50 dark:bg-amber-900/20 border border-amber-100 dark:border-amber-900/30 flex gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-amber-400 flex flex-shrink-0 items-center justify-center",children:(0,t.jsx)(p,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h4",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Smart category"}),(0,t.jsx)("p",{className:"text-[13px] text-zinc-500 dark:text-zinc-400 leading-relaxed",children:'We"ve categorized your transaction, you may change here if you want.'})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.Search,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search for any transaction",className:"w-full h-16 pl-14 pr-6 rounded-full bg-zinc-50 dark:bg-zinc-900 border-none focus:ring-2 focus:ring-zinc-900 transition-all text-sm font-medium"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Latest transaction"}),(0,t.jsx)(r.default,{transactions:e.slice(0,10),onTransactionClick:()=>{},loading:g,compact:!0})]})]})]})}function b(){let e=["Groceries","Transport","Entertainment","Rent & Utilities","Shopping","Health"],t=["MTN MoMo","Bank","Cash"],a=[],r=3465.8,s={Groceries:["Supermart Groceries","Fresh Bakery","Corner Shop"],Transport:["Uber Ride","Bolt","Fuel at Shell"],Entertainment:["Netflix","Spotify","Cinema"],"Rent & Utilities":["ECG Prepaid","Water Bill","Internet"],Shopping:["Melcom","Pharmacy","Online Store"],Health:["Drugstore","Clinic","Gym"]},i=new Date;for(let n=0;n<20;n++){let l=e[Math.floor(4*Math.random())],c=Math.floor(200*Math.random())+10,o=new Date(i);o.setHours(i.getHours()-4*n);let d=s[l]||["Transaction"];a.push({id:`mock-ana-${n}`,transaction_date:o.toISOString(),amount:c,type:"debit",source:t[Math.floor(Math.random()*t.length)],description:d[Math.floor(Math.random()*d.length)],balance:r,category:l,raw_sms:"",created_at:o.toISOString()}),r-=c}return a}e.s(["default",()=>g],14887)}]);